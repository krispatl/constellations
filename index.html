<!doctype html>
<html lang="ca">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="color-scheme" content="dark" />
  <title>Laboratori Constel·lació</title>

  <style>
    :root{
      --bg:#070A0F;
      --text:rgba(255,255,255,.90);
      --muted:rgba(255,255,255,.66);
      --muted2:rgba(255,255,255,.48);
      --stroke:rgba(255,255,255,.12);
      --panel:rgba(255,255,255,.06);
      --panel2:rgba(255,255,255,.035);
      --accent:#B7B9FF;
      --accent2:#7CE0FF;
      --good:#7CFFB2;
      --shadow:0 22px 60px rgba(0,0,0,.55);
      --radius:18px;
      --radius2:26px;
      --maxw:1180px;
      --mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
      --sans:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:var(--sans);
      color:var(--text);
      background:
        radial-gradient(1100px 700px at 12% 10%, rgba(183,185,255,0.22), transparent 56%),
        radial-gradient(900px 600px at 86% 20%, rgba(124,224,255,0.17), transparent 58%),
        radial-gradient(900px 800px at 65% 90%, rgba(124,255,178,0.10), transparent 60%),
        var(--bg);
      overflow-x:hidden;
    }

    /* ambient grid */
    .bggrid{
      position:fixed; inset:0; pointer-events:none;
      background-image:
        radial-gradient(rgba(255,255,255,0.11) 1px, transparent 1px),
        radial-gradient(rgba(255,255,255,0.06) 1px, transparent 1px);
      background-size: 34px 34px, 104px 104px;
      background-position: 0 0, 36px 44px;
      opacity:.18;
      mix-blend-mode:screen;
      filter: blur(.2px);
    }
    .noise{
      position:fixed; inset:-20%;
      pointer-events:none;
      opacity:.06;
      background:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='260' height='260'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='260' height='260' filter='url(%23n)' opacity='.55'/%3E%3C/svg%3E");
      transform: rotate(3deg);
      mix-blend-mode:overlay;
    }

    .wrap{width:min(var(--maxw), calc(100% - 48px)); margin:0 auto; position:relative;}
    .progress{
      position:fixed; top:0; left:0; height:2px; width:100%;
      transform-origin:left; transform:scaleX(0);
      background:linear-gradient(90deg, rgba(124,224,255,.95), rgba(183,185,255,.95), rgba(124,255,178,.95));
      opacity:.85; z-index:120;
    }

    /* topbar */
    .topbar{
      position:sticky; top:0; z-index:100;
      backdrop-filter: blur(12px);
      background: linear-gradient(to bottom, rgba(7,10,15,.86), rgba(7,10,15,.55));
      border-bottom:1px solid rgba(255,255,255,.08);
    }
    .topbar .inner{
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 0; gap:14px;
    }
    .brand{display:flex; align-items:center; gap:12px; min-width: 280px;}
   .logoImg{
  width:36px;
  height:36px;
  object-fit:contain;
  border-radius:12px;
}

    .logo:after{
      content:""; position:absolute; inset:-40%;
      background: radial-gradient(circle at 35% 35%, rgba(255,255,255,0.28), transparent 55%);
      transform: rotate(18deg);
      animation: drift 6s ease-in-out infinite alternate;
    }
    @keyframes drift{
      from{ transform:translate3d(-10px,-6px,0) rotate(18deg); }
      to{ transform:translate3d(10px,6px,0) rotate(18deg); }
    }
    .brand h1{
      margin:0; font-size:13px; letter-spacing:.12em; text-transform:uppercase;
      color:rgba(255,255,255,.90); line-height:1.2;
    }
    .brand .sub{
      font-family:var(--mono); font-size:12px; color:var(--muted2);
      margin-top:2px; letter-spacing:.02em;
    }

    .nav{display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end; align-items:center;}
    .chip{
      font-family:var(--mono);
      font-size:12px;
      color:rgba(255,255,255,.78);
      padding:10px 12px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      text-decoration:none;
      transition: transform .15s ease, background .15s ease, border-color .15s ease;
      white-space:nowrap;
    }
    .chip:hover{transform:translateY(-1px); background:rgba(255,255,255,.07); border-color:rgba(255,255,255,.18);}
    .chip.primary{
      border-color: rgba(183,185,255,0.35);
      background: linear-gradient(135deg, rgba(183,185,255,0.18), rgba(124,224,255,0.12));
    }

    .langToggle{
      display:flex; gap:6px; align-items:center;
      padding:6px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
    }
    .langBtn{
      appearance:none;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      color: rgba(255,255,255,.78);
      padding:8px 10px;
      border-radius:999px;
      font-family:var(--mono);
      font-size:12px;
      cursor:pointer;
      transition: transform .15s ease, background .15s ease, border-color .15s ease;
      line-height:1;
    }
    .langBtn:hover{transform:translateY(-1px); background:rgba(255,255,255,.07); border-color:rgba(255,255,255,.18);}
    .langBtn.active{
      border-color: rgba(183,185,255,0.35);
      background: linear-gradient(135deg, rgba(183,185,255,0.18), rgba(124,224,255,0.12));
      color: rgba(255,255,255,.92);
    }

    /* hero */
    .hero{padding:58px 0 18px;}
    .heroGrid{
      display:grid;
      grid-template-columns: 1.25fr .75fr;
      gap:24px;
      align-items:stretch;
    }
    @media (max-width: 920px){ .heroGrid{ grid-template-columns:1fr; } .brand{min-width:unset;} }

    .card{
      border-radius: var(--radius2);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid rgba(255,255,255,.12);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .card.pad{padding:22px;}

    .kicker{
      font-family:var(--mono);
      font-size:12px;
      color: rgba(255,255,255,.72);
      letter-spacing:.10em;
      text-transform:uppercase;
      display:flex;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
    }
    .dot{
      width:8px;height:8px;border-radius:99px;
      background:var(--good);
      box-shadow:0 0 22px rgba(124,255,178,.40);
      animation:pulse 2.2s ease-in-out infinite;
    }
    @keyframes pulse{
      0%,100%{transform:scale(.85);opacity:.7}
      50%{transform:scale(1.15);opacity:1}
    }

    .title{
      margin:14px 0 10px;
      font-size: clamp(30px, 4vw, 52px);
      line-height:1.03;
      letter-spacing:-.02em;
    }
    .lead{
      margin:0;
      font-size:16px;
      line-height:1.7;
      color: rgba(255,255,255,.78);
      max-width: 76ch;
    }

    .metaRow{display:flex; gap:10px; flex-wrap:wrap; margin-top:18px;}
    .pill{
      font-family:var(--mono);
      font-size:12px;
      color: rgba(255,255,255,.78);
      padding:10px 12px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.15);
      display:flex; gap:8px; align-items:center;
    }
    .pill b{color:rgba(255,255,255,.92); font-weight:600;}

    .ctaRow{display:flex; gap:10px; flex-wrap:wrap; margin-top:16px;}
    .btn{
      appearance:none;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: rgba(255,255,255,.88);
      padding: 11px 13px;
      border-radius: 12px;
      font-family: var(--mono);
      font-size: 12px;
      cursor:pointer;
      transition: transform .15s ease, background .15s ease, border-color .15s ease;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      gap:10px;
    }
    .btn:hover{transform:translateY(-1px); background:rgba(255,255,255,.09); border-color:rgba(255,255,255,.20);}
    .btn.primary{
      background: linear-gradient(135deg, rgba(183,185,255,0.22), rgba(124,224,255,0.14));
      border-color: rgba(183,185,255,0.35);
    }

    /* “community signal” strip */
    .fast{padding:0 0 34px;}
    .grid3{display:grid; grid-template-columns:repeat(3,1fr); gap:14px;}
    @media (max-width: 960px){ .grid3{grid-template-columns:1fr;} }
    .mini{
      border-radius:var(--radius);
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      padding:16px 16px 14px;
      position:relative;
      overflow:hidden;
    }
    .mini:before{
      content:"";
      position:absolute; inset:-1px;
      background:
        radial-gradient(520px 280px at 10% 15%, rgba(183,185,255,0.10), transparent 60%),
        radial-gradient(520px 280px at 90% 90%, rgba(124,224,255,0.08), transparent 60%);
      opacity:.85;
      pointer-events:none;
    }
    .mini > *{position:relative; z-index:1;}
    .mini h3{margin:0 0 8px; font-size:14px; color:rgba(255,255,255,.92); letter-spacing:-.01em;}
    .mini p{margin:0; font-size:14px; color:rgba(255,255,255,.72); line-height:1.65;}
    .mini ul{margin:10px 0 0; padding-left:18px; color:rgba(255,255,255,.70); font-size:13px; line-height:1.6;}

    /* “program panel” — lighter, more invitation than app */
    .consoleHeader{
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 16px;
      border-bottom:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.18);
    }
    .windowDots{display:flex; gap:7px; align-items:center;}
    .wd{width:10px;height:10px;border-radius:50%;opacity:.85;}
    .wd.r{background:#FF6B6B}
    .wd.y{background:#FFD56B}
    .wd.g{background:#63FFB0}
    .consoleTitle{font-family:var(--mono); font-size:12px; color:rgba(255,255,255,.72); letter-spacing:.03em;}
    .console{
      padding:14px 16px 18px;
      font-family:var(--mono);
      font-size:12px;
      color:rgba(255,255,255,.78);
      line-height:1.55;
      height: 340px;
      overflow:hidden;
      position:relative;
    }
    .console pre{margin:0; white-space:pre-wrap; word-break:break-word;}
    .cursor{
      display:inline-block; width:9px; height:14px;
      background:rgba(255,255,255,.70);
      margin-left:6px; transform:translateY(2px);
      animation:blink 1s steps(2,end) infinite;
      border-radius:2px; opacity:.8;
    }
    @keyframes blink{50%{opacity:0}}
    .scanline{
      position:absolute; left:0; right:0; top:-30%;
      height:30%;
      background: linear-gradient(to bottom, transparent, rgba(124,224,255,0.07), transparent);
      animation: scan 4.8s linear infinite;
      pointer-events:none;
    }
    @keyframes scan{ from{transform:translateY(0)} to{transform:translateY(520px)} }

    /* sections */
    section{padding:34px 0;}
    .sectionTitle{
      display:flex; align-items:baseline; justify-content:space-between;
      gap:16px; margin-bottom:14px;
    }
    .sectionTitle h2{
      margin:0;
      font-size:18px;
      font-weight:600;
      letter-spacing:.08em;
      text-transform:uppercase;
      color:rgba(255,255,255,.84);
    }
    .sectionTitle .hint{
      font-family:var(--mono);
      font-size:12px;
      color:rgba(255,255,255,.56);
    }

    .grid2{display:grid; grid-template-columns:1fr 1fr; gap:16px;}
    @media (max-width: 860px){ .grid2{grid-template-columns:1fr;} }

    .block{
      border-radius:var(--radius);
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.035);
      padding:18px;
      position:relative;
      overflow:hidden;
    }
    .block:before{
      content:"";
      position:absolute; inset:-1px;
      background:
        radial-gradient(480px 240px at 15% 20%, rgba(183,185,255,0.10), transparent 60%),
        radial-gradient(420px 260px at 85% 85%, rgba(124,224,255,0.08), transparent 55%);
      opacity:.85;
      pointer-events:none;
    }
    .block > *{position:relative; z-index:1;}
    .block h3{margin:0 0 8px; font-size:14px; color:rgba(255,255,255,.92); letter-spacing:-.01em;}
    .block p{margin:0; font-size:14px; color:rgba(255,255,255,.73); line-height:1.7;}
    .list{margin:12px 0 0; padding-left:18px; color:rgba(255,255,255,.72); font-size:13px; line-height:1.6;}
    .tagRow{display:flex; gap:8px; flex-wrap:wrap; margin-top:12px;}
    .tag{
      font-family:var(--mono);
      font-size:11px;
      padding:7px 9px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      color: rgba(255,255,255,.68);
    }

    /* “join” */
    .joinGrid{display:grid; grid-template-columns: 1.1fr .9fr; gap:16px;}
    @media (max-width: 920px){ .joinGrid{grid-template-columns:1fr;} }
    .formRow{display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:12px;}
    @media (max-width: 720px){ .formRow{grid-template-columns:1fr;} }
    .input{
      width:100%;
      padding:12px 12px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.20);
      color: rgba(255,255,255,.86);
      font-family: var(--mono);
      font-size:12px;
      outline:none;
    }
    .input:focus{border-color: rgba(183,185,255,.35); box-shadow: 0 0 0 3px rgba(183,185,255,.10);}
    .textarea{min-height:110px; resize:vertical; line-height:1.45;}
    .note{
      margin-top:10px;
      font-family:var(--mono);
      font-size:12px;
      color:rgba(255,255,255,.56);
      line-height:1.5;
    }

    /* footer */
    footer{padding:34px 0 48px; color:rgba(255,255,255,.55); font-size:12px;}
    .footerRow{
      display:flex; align-items:center; justify-content:space-between; gap:16px; flex-wrap:wrap;
      border-top:1px solid rgba(255,255,255,.10);
      padding-top:18px;
    }
    .footMono{font-family:var(--mono); letter-spacing:.02em;}
    .smallLinks{display:flex; gap:10px; flex-wrap:wrap;}
    .smallLinks a{
      color:rgba(255,255,255,.62);
      text-decoration:none;
      border-bottom:1px dashed rgba(255,255,255,.18);
    }
    .smallLinks a:hover{color:rgba(255,255,255,.85); border-bottom-color:rgba(255,255,255,.35);}

    /* reveal */
    .reveal{opacity:0; transform:translateY(16px); transition: opacity .7s ease, transform .7s ease; will-change:transform,opacity;}
    .reveal.is-visible{opacity:1; transform:translateY(0);}

    /* reduced motion */
    @media (prefers-reduced-motion: reduce){
      .reveal{opacity:1; transform:none; transition:none;}
      .scanline,.progress{display:none;}
      .logo:after,.dot,.cursor{animation:none;}
    }
  </style>
</head>

<body>
  <div class="progress" id="progress"></div>
  <div class="bggrid"></div>
  <div class="noise"></div>

  <header class="topbar">
    <div class="wrap">
      <div class="inner">
        <div class="brand">
          <img src="/conLablogo.jpeg" alt="Laboratori Constel·lació logo" class="logoImg"
          <div>
            <h1 id="brandTitle">LABORATORI CONSTEL·LACIÓ</h1>
            <div class="sub" id="brandSub">Hack Lab • Infraestructura compartida • Barcelona</div>
          </div>
        </div>

        <nav class="nav" aria-label="Page navigation">
          <a class="chip" href="#about" data-i18n="nav_about">Què és</a>
          <a class="chip" href="#how" data-i18n="nav_how">Com funciona</a>
          <a class="chip" href="#focus" data-i18n="nav_focus">Àrees</a>
          <a class="chip" href="#outputs" data-i18n="nav_outputs">Recursos</a>
          <a class="chip primary" href="#join" data-i18n="nav_join">Participa</a>

          <div class="langToggle" role="group" aria-label="Language switch">
            <button class="langBtn active" id="btnCA" type="button">CA</button>
            <button class="langBtn" id="btnEN" type="button">EN</button>
          </div>
        </nav>
      </div>
    </div>
  </header>

  <main>
    <!-- HERO -->
    <section class="hero">
      <div class="wrap">
        <div class="heroGrid">
          <div class="card pad reveal">
            <div class="kicker">
              <span class="dot" aria-hidden="true"></span>
              <span data-i18n="hero_kicker">comunitat / prototipatge / transferència</span>
            </div>

            <h2 class="title" data-i18n="hero_title">
              Un laboratori obert per crear cultura digital amb IA, XR i tecnologies emergents.
            </h2>

            <p class="lead" data-i18n="hero_lead">
              Laboratori Constel·lació connecta artistes, institucions, universitats i indústria creativa per experimentar,
              construir pilots i compartir coneixement. Volem que cada cicle deixi recursos útils, documentats i reutilitzables.
            </p>

            <div class="metaRow" role="list">
              <div class="pill" role="listitem"><b data-i18n="pill_for_b">Per a</b><span data-i18n="pill_for_v">artistes • centres • universitats • indústria creativa</span></div>
              <div class="pill" role="listitem"><b data-i18n="pill_do_b">Fem</b><span data-i18n="pill_do_v">labs • sprints • trobades • pilots</span></div>
              <div class="pill" role="listitem"><b data-i18n="pill_leave_b">Deixem</b><span data-i18n="pill_leave_v">guies • codi • metodologies • casos</span></div>
            </div>

            <div class="ctaRow">
              <a class="btn primary" href="#join" data-i18n="cta_join">Vull participar</a>
              <a class="btn" href="#outputs" data-i18n="cta_repo">Veure recursos</a>
            </div>
          </div>

          <div class="card reveal" aria-label="Community console">
            <div class="consoleHeader">
              <div class="windowDots" aria-hidden="true">
                <div class="wd r"></div><div class="wd y"></div><div class="wd g"></div>
              </div>
              <div class="consoleTitle" id="consoleTitle">constel·lació://signals</div>
              <div style="width:54px;"></div>
            </div>
            <div class="console">
              <pre id="consoleText"></pre><span class="cursor" aria-hidden="true"></span>
              <div class="scanline" aria-hidden="true"></div>
            </div>
          </div>

        </div>
      </div>
    </section>

    <!-- FAST STRIP -->
    <section class="fast">
      <div class="wrap">
        <div class="grid3">
          <div class="mini reveal">
            <h3 data-i18n="fast_1_h">Porta una idea</h3>
            <p data-i18n="fast_1_p">Propostes, reptes, necessitats. Si és interessant, hi construïm un format.</p>
            <ul>
              <li data-i18n="fast_1_b1">Convocatòria contínua</li>
              <li data-i18n="fast_1_b2">Onboarding i equip</li>
            </ul>
          </div>
          <div class="mini reveal">
            <h3 data-i18n="fast_2_h">Construeix amb nosaltres</h3>
            <p data-i18n="fast_2_p">Labs facilitats i sprints per passar d’idea a prototip provable.</p>
            <ul>
              <li data-i18n="fast_2_b1">Tècnic + conceptual</li>
              <li data-i18n="fast_2_b2">Iteració ràpida</li>
            </ul>
          </div>
          <div class="mini reveal">
            <h3 data-i18n="fast_3_h">Comparteix el que aprens</h3>
            <p data-i18n="fast_3_p">Documentació i recursos perquè l’ecosistema català avanci més ràpid.</p>
            <ul>
              <li data-i18n="fast_3_b1">Guies i plantilles</li>
              <li data-i18n="fast_3_b2">Repositori obert</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about">
      <div class="wrap">
        <div class="sectionTitle">
          <h2 data-i18n="about_h">Què és</h2>
          <div class="hint" data-i18n="about_hint">Un lloc per provar, construir i connectar — amb vocació pública</div>
        </div>

        <div class="grid2">
          <div class="block reveal">
            <h3 data-i18n="about_a_h">Infraestructura compartida</h3>
            <p data-i18n="about_a_p">
              Un espai estable on la cultura digital pot fer recerca aplicada i prototipatge amb continuïtat.
              Menys projectes aïllats, més aprenentatge acumulatiu.
            </p>
            <ul class="list">
              <li data-i18n="about_a_1">Facilitació i metodologies</li>
              <li data-i18n="about_a_2">Eines i suport tècnic</li>
              <li data-i18n="about_a_3">Documentació per reutilitzar</li>
            </ul>
          </div>

          <div class="block reveal">
            <h3 data-i18n="about_b_h">Comunitat i xarxa</h3>
            <p data-i18n="about_b_p">
              Connectem artistes, institucions, universitats i indústria creativa per activar col·laboracions i pilots.
              L’objectiu: enfortir l’ecosistema català amb resultats visibles.
            </p>
            <div class="tagRow">
              <span class="tag" data-i18n="tag_network">xarxa</span>
              <span class="tag" data-i18n="tag_collab">col·laboració</span>
              <span class="tag" data-i18n="tag_transfer">transferència</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- HOW -->
    <section id="how">
      <div class="wrap">
        <div class="sectionTitle">
          <h2 data-i18n="how_h">Com funciona</h2>
          <div class="hint" data-i18n="how_hint">De la proposta al pilot — i del pilot al repositori</div>
        </div>

        <div class="grid2">
          <div class="block reveal">
            <h3 data-i18n="how_a_h">Formats</h3>
            <p data-i18n="how_a_p">Treball amb formats clars per aconseguir resultats reals i compartibles.</p>
            <ul class="list">
              <li data-i18n="how_a_1"><b>Open Labs</b> — sessions obertes per explorar i connectar</li>
              <li data-i18n="how_a_2"><b>Hack Sprints</b> — prototipatge intensiu amb facilitació</li>
              <li data-i18n="how_a_3"><b>Transferència</b> — sessions de síntesi i publicació de recursos</li>
            </ul>
          </div>

          <div class="block reveal">
            <h3 data-i18n="how_b_h">Resultats</h3>
            <p data-i18n="how_b_p">Cada cicle deixa peces reutilitzables: no només demos.</p>
            <ul class="list">
              <li data-i18n="how_b_1">Pilots i proves de concepte</li>
              <li data-i18n="how_b_2">Guies, playbooks i plantilles</li>
              <li data-i18n="how_b_3">Codi i repositoris open-source (quan convingui)</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- FOCUS -->
    <section id="focus">
      <div class="wrap">
        <div class="sectionTitle">
          <h2 data-i18n="focus_h">Àrees</h2>
          <div class="hint" data-i18n="focus_hint">Tecnologies emergents, però amb criteri cultural</div>
        </div>

        <div class="grid2">
          <div class="block reveal">
            <h3 data-i18n="focus_a_h">XR / Realitat immersiva</h3>
            <p data-i18n="focus_a_p">Experiències, instal·lacions i prototips: del concepte a l’espai públic o expositiu.</p>
            <ul class="list">
              <li data-i18n="focus_a_1">AR / VR / MR • temps real</li>
              <li data-i18n="focus_a_2">Interacció • narrativa • performance</li>
              <li data-i18n="focus_a_3">UX i accessibilitat</li>
            </ul>
          </div>

          <div class="block reveal">
            <h3 data-i18n="focus_b_h">IA creativa i sistemes generatius</h3>
            <p data-i18n="focus_b_p">Pipelines, agents i eines per crear, analitzar i mediar continguts amb transparència.</p>
            <ul class="list">
              <li data-i18n="focus_b_1">Agents / RAG • multimodal</li>
              <li data-i18n="focus_b_2">IA per a art, recerca i educació</li>
              <li data-i18n="focus_b_3">Reproductibilitat i bones pràctiques</li>
            </ul>
          </div>

          <div class="block reveal">
            <h3 data-i18n="focus_c_h">Robòtica, sensors i espais interactius</h3>
            <p data-i18n="focus_c_p">Instal·lacions que responen a la presència: dades, cos i entorn.</p>
            <ul class="list">
              <li data-i18n="focus_c_1">Sensors • tracking • comportaments</li>
              <li data-i18n="focus_c_2">Instal·lacions híbrides</li>
              <li data-i18n="focus_c_3">Durabilitat i manteniment</li>
            </ul>
          </div>

          <div class="block reveal">
            <h3 data-i18n="focus_d_h">Creative coding i craft digital</h3>
            <p data-i18n="focus_d_p">Temps real, visuals, audio espacial i engines: del prototip a producció.</p>
            <ul class="list">
              <li data-i18n="focus_d_1">Web • TouchDesigner • engines</li>
              <li data-i18n="focus_d_2">Toolkits reutilitzables</li>
              <li data-i18n="focus_d_3">Peer-learning i mentoratge</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- OUTPUTS -->
    <section id="outputs">
      <div class="wrap">
        <div class="sectionTitle">
          <h2 data-i18n="out_h">Recursos</h2>
          <div class="hint" data-i18n="out_hint">Allò que queda: repositori, guies i projectes</div>
        </div>

        <div class="grid2">
          <div class="block reveal">
            <h3 data-i18n="out_a_h">Repositori obert del sector</h3>
            <p data-i18n="out_a_p">
              Un repositori públic amb projectes, codi, metodologies i documentació desenvolupada dins del laboratori.
              Un recurs per reforçar l’ecosistema català i facilitar la transferència real de coneixement.
            </p>
            <div class="ctaRow" style="margin-top:12px;">
              <a class="btn" href="#" id="repoBtn" data-i18n="out_repo_btn">Veure repositori (placeholder)</a>
              <button class="btn" id="copyRepo" type="button" data-i18n="out_repo_copy">Copiar enllaç</button>
            </div>
            <div class="tagRow">
              <span class="tag" data-i18n="tag_templates">plantilles</span>
              <span class="tag" data-i18n="tag_playbooks">playbooks</span>
              <span class="tag" data-i18n="tag_code">codi</span>
            </div>
          </div>

          <div class="block reveal">
            <h3 data-i18n="out_b_h">Pilots i casos d’ús</h3>
            <p data-i18n="out_b_p">
              Prototips i proves de concepte amb valor comunitari: replicables, documentats i preparats per créixer en col·laboracions.
            </p>
            <ul class="list">
              <li data-i18n="out_b_1">Formats replicables</li>
              <li data-i18n="out_b_2">Documentació clara</li>
              <li data-i18n="out_b_3">Demostracions públiques</li>
            </ul>
          </div>
        </div>

        <div class="block reveal" style="margin-top:16px; text-align:center;">
          <h3 data-i18n="out_c_h">Impacte acumulatiu</h3>
          <p data-i18n="out_c_p">
            No només projectes puntuals. Construïm infraestructura, xarxa i coneixement que es manté en el temps.
          </p>
        </div>
      </div>
    </section>

    <!-- JOIN -->
    <section id="join">
      <div class="wrap">
        <div class="sectionTitle">
          <h2 data-i18n="join_h">Participa</h2>
          <div class="hint" data-i18n="join_hint">Entra com a participant, partner o col·laborador</div>
        </div>

        <div class="joinGrid">
          <div class="block reveal">
            <h3 data-i18n="join_a_h">Com pots entrar</h3>
            <p data-i18n="join_a_p">
              Busquem gent amb ganes de fer: artistes, tecnòlegs, investigadors, institucions i indústria creativa.
              Si tens una idea, un repte o ganes de sumar-te a un sprint, escriu-nos.
            </p>
            <ul class="list">
              <li data-i18n="join_a_1"><b>Participants</b>: aporta talent i construïm junts</li>
              <li data-i18n="join_a_2"><b>Partners</b>: proposeu reptes i co-desenvolupeu pilots</li>
              <li data-i18n="join_a_3"><b>Mentors</b>: ajudeu a accelerar i transferir coneixement</li>
            </ul>

            <div class="ctaRow">
              <a class="btn primary" id="emailJoin" href="mailto:contact@yourdomain.org" data-i18n="join_cta_email">Vull sumar-m’hi</a>
              <button class="btn" id="copyPitch" type="button" data-i18n="join_cta_copy">Copiar text curt</button>
            </div>

            <div class="note" data-i18n="join_note">
              Nota: aquesta pàgina és pública. Substitueix “contact@yourdomain.org” i l’enllaç del repositori quan el tingueu.
            </div>
          </div>

          <div class="block reveal">
            <h3 data-i18n="join_b_h">Escriu-nos (sense fricció)</h3>
            <p data-i18n="join_b_p">Omple això i copia el missatge — o envia’l directament per email.</p>

            <div class="formRow" aria-label="Interest form (local only)">
              <input class="input" id="fName" placeholder="Nom / Name" />
              <input class="input" id="fOrg" placeholder="Organització / Organization" />
            </div>
            <div class="formRow">
              <input class="input" id="fEmail" placeholder="Email" />
              <input class="input" id="fRole" placeholder="Rol (artista, dev, institució…)" />
            </div>
            <div class="formRow" style="grid-template-columns:1fr;">
              <textarea class="input textarea" id="fMsg" placeholder="Explica’ns què vols fer (idea, repte, col·laboració)…"></textarea>
            </div>
            <div class="ctaRow">
              <button class="btn" id="buildEmail" type="button" data-i18n="join_build">Generar email</button>
              <a class="btn" id="mailtoBuilt" href="#" data-i18n="join_send" style="pointer-events:none; opacity:.6;">Enviar</a>
            </div>
            <div class="note" id="builtNote"></div>
          </div>
        </div>
      </div>
    </section>

    <footer>
      <div class="wrap">
        <div class="footerRow">
          <div class="footMono" id="footLeft">Laboratori Constel·lació • Barcelona</div>
          <div class="smallLinks">
            <a href="#about" data-i18n="nav_about">Què és</a>
            <a href="#how" data-i18n="nav_how">Com funciona</a>
            <a href="#focus" data-i18n="nav_focus">Àrees</a>
            <a href="#outputs" data-i18n="nav_outputs">Recursos</a>
            <a href="#join" data-i18n="nav_join">Participa</a>
          </div>
        </div>
        <div style="margin-top:10px;" class="footMono" id="footNote"></div>
      </div>
    </footer>
  </main>

  <script>
    // ---------- i18n ----------
    const i18n = {
      ca: {
        brandTitle: "LABORATORI CONSTEL·LACIÓ",
        brandSub: "Hack Lab • Infraestructura compartida • Barcelona",

        nav_about: "Què és",
        nav_how: "Com funciona",
        nav_focus: "Àrees",
        nav_outputs: "Recursos",
        nav_join: "Participa",

        hero_kicker: "comunitat / prototipatge / transferència",
        hero_title: "Un laboratori obert per crear cultura digital amb IA, XR i tecnologies emergents.",
        hero_lead: "Laboratori Constel·lació connecta artistes, institucions, universitats i indústria creativa per experimentar, construir pilots i compartir coneixement. Volem que cada cicle deixi recursos útils, documentats i reutilitzables.",
        pill_for_b: "Per a",
        pill_for_v: "artistes • centres • universitats • indústria creativa",
        pill_do_b: "Fem",
        pill_do_v: "labs • sprints • trobades • pilots",
        pill_leave_b: "Deixem",
        pill_leave_v: "guies • codi • metodologies • casos",
        cta_join: "Vull participar",
        cta_repo: "Veure recursos",

        fast_1_h: "Porta una idea",
        fast_1_p: "Propostes, reptes, necessitats. Si és interessant, hi construïm un format.",
        fast_1_b1: "Convocatòria contínua",
        fast_1_b2: "Onboarding i equip",
        fast_2_h: "Construeix amb nosaltres",
        fast_2_p: "Labs facilitats i sprints per passar d’idea a prototip provable.",
        fast_2_b1: "Tècnic + conceptual",
        fast_2_b2: "Iteració ràpida",
        fast_3_h: "Comparteix el que aprens",
        fast_3_p: "Documentació i recursos perquè l’ecosistema català avanci més ràpid.",
        fast_3_b1: "Guies i plantilles",
        fast_3_b2: "Repositori obert",

        about_h: "Què és",
        about_hint: "Un lloc per provar, construir i connectar — amb vocació pública",
        about_a_h: "Infraestructura compartida",
        about_a_p: "Un espai estable on la cultura digital pot fer recerca aplicada i prototipatge amb continuïtat. Menys projectes aïllats, més aprenentatge acumulatiu.",
        about_a_1: "Facilitació i metodologies",
        about_a_2: "Eines i suport tècnic",
        about_a_3: "Documentació per reutilitzar",
        about_b_h: "Comunitat i xarxa",
        about_b_p: "Connectem artistes, institucions, universitats i indústria creativa per activar col·laboracions i pilots. L’objectiu: enfortir l’ecosistema català amb resultats visibles.",

        how_h: "Com funciona",
        how_hint: "De la proposta al pilot — i del pilot al repositori",
        how_a_h: "Formats",
        how_a_p: "Treball amb formats clars per aconseguir resultats reals i compartibles.",
        how_a_1: "Open Labs — sessions obertes per explorar i connectar",
        how_a_2: "Hack Sprints — prototipatge intensiu amb facilitació",
        how_a_3: "Transferència — sessions de síntesi i publicació de recursos",
        how_b_h: "Resultats",
        how_b_p: "Cada cicle deixa peces reutilitzables: no només demos.",
        how_b_1: "Pilots i proves de concepte",
        how_b_2: "Guies, playbooks i plantilles",
        how_b_3: "Codi i repositoris open-source (quan convingui)",

        focus_h: "Àrees",
        focus_hint: "Tecnologies emergents, però amb criteri cultural",
        focus_a_h: "XR / Realitat immersiva",
        focus_a_p: "Experiències, instal·lacions i prototips: del concepte a l’espai públic o expositiu.",
        focus_a_1: "AR / VR / MR • temps real",
        focus_a_2: "Interacció • narrativa • performance",
        focus_a_3: "UX i accessibilitat",
        focus_b_h: "IA creativa i sistemes generatius",
        focus_b_p: "Pipelines, agents i eines per crear, analitzar i mediar continguts amb transparència.",
        focus_b_1: "Agents / RAG • multimodal",
        focus_b_2: "IA per a art, recerca i educació",
        focus_b_3: "Reproductibilitat i bones pràctiques",
        focus_c_h: "Robòtica, sensors i espais interactius",
        focus_c_p: "Instal·lacions que responen a la presència: dades, cos i entorn.",
        focus_c_1: "Sensors • tracking • comportaments",
        focus_c_2: "Instal·lacions híbrides",
        focus_c_3: "Durabilitat i manteniment",
        focus_d_h: "Creative coding i craft digital",
        focus_d_p: "Temps real, visuals, audio espacial i engines: del prototip a producció.",
        focus_d_1: "Web • TouchDesigner • engines",
        focus_d_2: "Toolkits reutilitzables",
        focus_d_3: "Peer-learning i mentoratge",

        out_h: "Recursos",
        out_hint: "Allò que queda: repositori, guies i projectes",
        out_a_h: "Repositori obert del sector",
        out_a_p: "Un repositori públic amb projectes, codi, metodologies i documentació desenvolupada dins del laboratori. Un recurs per reforçar l’ecosistema català i facilitar la transferència real de coneixement.",
        out_repo_btn: "Veure repositori (placeholder)",
        out_repo_copy: "Copiar enllaç",
        out_b_h: "Pilots i casos d’ús",
        out_b_p: "Prototips i proves de concepte amb valor comunitari: replicables, documentats i preparats per créixer en col·laboracions.",
        out_b_1: "Formats replicables",
        out_b_2: "Documentació clara",
        out_b_3: "Demostracions públiques",
        out_c_h: "Impacte acumulatiu",
        out_c_p: "No només projectes puntuals. Construïm infraestructura, xarxa i coneixement que es manté en el temps.",

        join_h: "Participa",
        join_hint: "Entra com a participant, partner o col·laborador",
        join_a_h: "Com pots entrar",
        join_a_p: "Busquem gent amb ganes de fer: artistes, tecnòlegs, investigadors, institucions i indústria creativa. Si tens una idea, un repte o ganes de sumar-te a un sprint, escriu-nos.",
        join_a_1: "Participants: aporta talent i construïm junts",
        join_a_2: "Partners: proposeu reptes i co-desenvolupeu pilots",
        join_a_3: "Mentors: ajudeu a accelerar i transferir coneixement",
        join_cta_email: "Vull sumar-m’hi",
        join_cta_copy: "Copiar text curt",
        join_b_h: "Escriu-nos (sense fricció)",
        join_b_p: "Omple això i copia el missatge — o envia’l directament per email.",
        join_build: "Generar email",
        join_send: "Enviar",
        join_note: "Nota: aquesta pàgina és pública. Substitueix “contact@yourdomain.org” i l’enllaç del repositori quan el tingueu.",

        tag_network: "xarxa",
        tag_collab: "col·laboració",
        tag_transfer: "transferència",
        tag_templates: "plantilles",
        tag_playbooks: "playbooks",
        tag_code: "codi",

        footLeft: "Laboratori Constel·lació • Barcelona",
        footNote: "Pàgina pública / versió teaser. Substitueix els placeholders de contacte i repositori quan estigui llest."
      },

      en: {
        brandTitle: "LABORATORI CONSTEL·LACIÓ",
        brandSub: "Hack Lab • Shared Infrastructure • Barcelona",

        nav_about: "What it is",
        nav_how: "How it works",
        nav_focus: "Focus",
        nav_outputs: "Resources",
        nav_join: "Join",

        hero_kicker: "community / prototyping / knowledge transfer",
        hero_title: "An open lab to build digital culture with AI, XR, and emerging technologies.",
        hero_lead: "Laboratori Constel·lació connects artists, institutions, universities, and the creative industry to experiment, build pilots, and share knowledge. Each cycle leaves useful, documented, reusable resources.",
        pill_for_b: "For",
        pill_for_v: "artists • institutions • universities • creative industry",
        pill_do_b: "We do",
        pill_do_v: "labs • sprints • meetups • pilots",
        pill_leave_b: "We leave",
        pill_leave_v: "guides • code • methods • use-cases",
        cta_join: "I want to join",
        cta_repo: "See resources",

        fast_1_h: "Bring an idea",
        fast_1_p: "Proposals, challenges, needs. If it’s exciting, we shape a format around it.",
        fast_1_b1: "Open intake",
        fast_1_b2: "Onboarding & team",
        fast_2_h: "Build with us",
        fast_2_p: "Facilitated labs and sprints to go from idea to a testable prototype.",
        fast_2_b1: "Technical + conceptual",
        fast_2_b2: "Fast iteration",
        fast_3_h: "Share what you learn",
        fast_3_p: "Documentation and resources to strengthen the Catalan ecosystem.",
        fast_3_b1: "Guides & templates",
        fast_3_b2: "Open repository",

        about_h: "What it is",
        about_hint: "A place to test, build, and connect — with a public-facing mission",
        about_a_h: "Shared infrastructure",
        about_a_p: "A stable space for applied research and prototyping in digital culture. Fewer isolated projects, more cumulative learning.",
        about_a_1: "Facilitation and methods",
        about_a_2: "Tools and technical support",
        about_a_3: "Documentation for reuse",
        about_b_h: "Community and network",
        about_b_p: "We connect artists, institutions, universities, and the creative industry to activate collaborations and pilots — strengthening the ecosystem with visible outcomes.",

        how_h: "How it works",
        how_hint: "From proposal to pilot — and from pilot to repository",
        how_a_h: "Formats",
        how_a_p: "Clear formats designed for real, shareable outcomes.",
        how_a_1: "Open Labs — open sessions to explore and connect",
        how_a_2: "Hack Sprints — intense prototyping with facilitation",
        how_a_3: "Transfer — synthesis sessions and resource publication",
        how_b_h: "Outcomes",
        how_b_p: "Each cycle leaves reusable pieces — not just demos.",
        how_b_1: "Pilots and proofs-of-concept",
        how_b_2: "Guides, playbooks, templates",
        how_b_3: "Code and open-source repositories (when appropriate)",

        focus_h: "Focus",
        focus_hint: "Emerging tech, grounded in cultural practice",
        focus_a_h: "XR / Immersive media",
        focus_a_p: "Experiences, installations, and prototypes — from concept to public or exhibition space.",
        focus_a_1: "AR / VR / MR • real-time",
        focus_a_2: "Interaction • narrative • performance",
        focus_a_3: "UX and accessibility",
        focus_b_h: "Creative AI & generative systems",
        focus_b_p: "Pipelines, agents, and tools to create, analyze, and mediate content with transparency.",
        focus_b_1: "Agents / RAG • multimodal",
        focus_b_2: "AI for art, research, education",
        focus_b_3: "Reproducibility and best practices",
        focus_c_h: "Robotics, sensors, interactive spaces",
        focus_c_p: "Installations responding to presence: data, body, environment.",
        focus_c_1: "Sensors • tracking • behaviors",
        focus_c_2: "Hybrid installations",
        focus_c_3: "Durability and maintenance",
        focus_d_h: "Creative coding & digital craft",
        focus_d_p: "Real-time, visuals, spatial audio, engines — from prototype to production.",
        focus_d_1: "Web • TouchDesigner • engines",
        focus_d_2: "Reusable toolkits",
        focus_d_3: "Peer learning & mentoring",

        out_h: "Resources",
        out_hint: "What remains: repository, guides, projects",
        out_a_h: "Open sector repository",
        out_a_p: "A public repository with projects, code, methods, and documentation developed inside the lab — strengthening the Catalan ecosystem and enabling real knowledge transfer.",
        out_repo_btn: "View repository (placeholder)",
        out_repo_copy: "Copy link",
        out_b_h: "Pilots and use-cases",
        out_b_p: "Community-value prototypes: replicable, documented, ready to scale through collaborations.",
        out_b_1: "Replicable formats",
        out_b_2: "Clear documentation",
        out_b_3: "Public demos",
        out_c_h: "Cumulative impact",
        out_c_p: "Not just one-off projects. We build infrastructure, network, and knowledge that lasts over time.",

        join_h: "Join",
        join_hint: "Join as participant, partner, or collaborator",
        join_a_h: "How to join",
        join_a_p: "We’re looking for people who want to build: artists, technologists, researchers, institutions, and the creative industry. If you have an idea, a challenge, or want to join a sprint, write us.",
        join_a_1: "Participants: bring talent and build together",
        join_a_2: "Partners: propose challenges and co-develop pilots",
        join_a_3: "Mentors: help accelerate and transfer knowledge",
        join_cta_email: "I want to join",
        join_cta_copy: "Copy short text",
        join_b_h: "Write to us (no friction)",
        join_b_p: "Fill this in and copy the message — or send it directly by email.",
        join_build: "Generate email",
        join_send: "Send",
        join_note: "Note: this page is public. Replace “contact@yourdomain.org” and the repository link when ready.",

        tag_network: "network",
        tag_collab: "collaboration",
        tag_transfer: "transfer",
        tag_templates: "templates",
        tag_playbooks: "playbooks",
        tag_code: "code",

        footLeft: "Laboratori Constel·lació • Barcelona",
        footNote: "Public teaser page. Replace contact/repository placeholders when ready."
      }
    };

    function applyLang(lang){
      const dict = i18n[lang] || i18n.ca;
      document.documentElement.lang = lang;

      document.querySelectorAll("[data-i18n]").forEach(el=>{
        const key = el.getAttribute("data-i18n");
        if (dict[key] !== undefined) el.textContent = dict[key];
      });

      document.getElementById("brandTitle").textContent = dict.brandTitle;
      document.getElementById("brandSub").textContent = dict.brandSub;
      document.getElementById("footLeft").textContent = dict.footLeft;
      document.getElementById("footNote").textContent = dict.footNote;

      document.getElementById("btnCA").classList.toggle("active", lang === "ca");
      document.getElementById("btnEN").classList.toggle("active", lang === "en");

      localStorage.setItem("constellation_lang", lang);
      typeConsole(lang);
    }

    // ---------- scroll progress ----------
    const progress = document.getElementById("progress");
    const updateProgress = () => {
      const doc = document.documentElement;
      const max = (doc.scrollHeight - doc.clientHeight) || 1;
      const p = doc.scrollTop / max;
      progress.style.transform = `scaleX(${Math.max(0, Math.min(1, p))})`;
    };
    window.addEventListener("scroll", updateProgress, { passive:true });
    updateProgress();

    // ---------- reveal ----------
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{ if(e.isIntersecting) e.target.classList.add("is-visible"); });
    }, { threshold: 0.12 });
    document.querySelectorAll(".reveal").forEach(el=> io.observe(el));

    // ---------- console typing ----------
    const consoleEl = document.getElementById("consoleText");
    let typeTimer = null;

    const consoleLines = {
      ca: [
        "boot: laboratori_constel·lació",
        "signal: comunitat oberta per construir cultura digital",
        "base: barcelona",
        "who: artistes | institucions | universitats | indústria creativa",
        "",
        "open: porta una idea / suma't a un sprint",
        "build: prototips • pilots • demostracions",
        "share: guies • codi • metodologies",
        "",
        "repo: open_source_repository ............ [planned]",
        "status: invitació oberta",
        "next: baixa i participa",
      ],
      en: [
        "boot: laboratori_constel·lació",
        "signal: an open community building digital culture",
        "base: barcelona",
        "who: artists | institutions | universities | creative industry",
        "",
        "open: bring an idea / join a sprint",
        "build: prototypes • pilots • demos",
        "share: guides • code • methods",
        "",
        "repo: open_source_repository ............ [planned]",
        "status: open invitation",
        "next: scroll and join",
      ]
    };

    function typeConsole(lang){
      if (!consoleEl) return;
      const lines = consoleLines[lang] || consoleLines.ca;
      consoleEl.textContent = "";
      if (typeTimer) { clearTimeout(typeTimer); typeTimer = null; }

      let idx = 0;

      function typeNextLine(){
        if (idx >= lines.length) return;
        const line = lines[idx];
        let c = 0;
        const speed = 12 + Math.random()*10;

        const interval = setInterval(()=>{
          consoleEl.textContent += line.charAt(c);
          c++;
          if (c >= line.length){
            clearInterval(interval);
            consoleEl.textContent += "\n";
            idx++;
            typeTimer = setTimeout(typeNextLine, 120 + Math.random()*160);
          }
        }, speed);
      }
      typeNextLine();
    }

    // ---------- language switch ----------
    document.getElementById("btnCA").addEventListener("click", ()=> applyLang("ca"));
    document.getElementById("btnEN").addEventListener("click", ()=> applyLang("en"));

    // ---------- copy pitch ----------
    const pitchCA = "Hola! M’agradaria sumar-me a Laboratori Constel·lació. Sóc (rol) i m’interessa participar en labs/sprints per prototipar cultura digital (IA, XR, etc.). Tinc una idea/rete: (breu descripció). Podem parlar?";
    const pitchEN = "Hi! I’d love to join Laboratori Constel·lació. I’m a (role) and I’m interested in participating in labs/sprints to prototype digital culture (AI, XR, etc.). I have an idea/challenge: (short description). Can we talk?";

    document.getElementById("copyPitch").addEventListener("click", async (e)=>{
      const lang = localStorage.getItem("constellation_lang") || "ca";
      const txt = (lang === "en") ? pitchEN : pitchCA;
      try{
        await navigator.clipboard.writeText(txt);
        const btn = e.currentTarget;
        const old = btn.textContent;
        btn.textContent = (lang === "en") ? "Copied ✓" : "Copiat ✓";
        setTimeout(()=> btn.textContent = old, 1200);
      }catch{
        alert((lang === "en") ? "Copy failed. Please copy manually." : "No s’ha pogut copiar. Copia-ho manualment.");
      }
    });

    // ---------- repository helpers ----------
    const repoPlaceholder = "https://github.com/your-org/laboratori-constellacio";
    document.getElementById("repoBtn").addEventListener("click", (e)=>{
      e.preventDefault();
      alert("Repositori encara en mode placeholder:\n" + repoPlaceholder + "\n\nQuan el tingueu, substituïu l’enllaç i traieu aquest missatge.");
    });

    document.getElementById("copyRepo").addEventListener("click", async (e)=>{
      try{
        await navigator.clipboard.writeText(repoPlaceholder);
        const btn = e.currentTarget;
        const old = btn.textContent;
        btn.textContent = (localStorage.getItem("constellation_lang") === "en") ? "Copied ✓" : "Copiat ✓";
        setTimeout(()=> btn.textContent = old, 1200);
      }catch{
        alert("No s’ha pogut copiar. Copia-ho manualment:\n" + repoPlaceholder);
      }
    });

    // ---------- lightweight email builder ----------
    const buildBtn = document.getElementById("buildEmail");
    const mailtoBuilt = document.getElementById("mailtoBuilt");
    const builtNote = document.getElementById("builtNote");

    function enc(s){ return encodeURIComponent(s || ""); }

    buildBtn.addEventListener("click", ()=>{
      const lang = localStorage.getItem("constellation_lang") || "ca";
      const name = document.getElementById("fName").value.trim();
      const org  = document.getElementById("fOrg").value.trim();
      const em   = document.getElementById("fEmail").value.trim();
      const role = document.getElementById("fRole").value.trim();
      const msg  = document.getElementById("fMsg").value.trim();

      const subject = (lang === "en") ? "Join — Laboratori Constel·lació" : "Participar — Laboratori Constel·lació";

      const body =
`Hola!%0D%0A
M’agradaria connectar amb Laboratori Constel·lació.%0D%0A%0D%0A
Nom: ${enc(name)}%0D%0A
Organització: ${enc(org)}%0D%0A
Email: ${enc(em)}%0D%0A
Rol: ${enc(role)}%0D%0A%0D%0A
Missatge:%0D%0A${enc(msg)}%0D%0A%0D%0A
Gràcies!`;

      // NOTE: mailto doesn't support From reliably; it's ok for a public teaser.
      const href = `mailto:contact@yourdomain.org?subject=${enc(subject)}&body=${body}`;

      mailtoBuilt.href = href;
      mailtoBuilt.style.pointerEvents = "auto";
      mailtoBuilt.style.opacity = "1";
      builtNote.textContent = (lang === "en")
        ? "Email generated. Click “Send” to open your mail client."
        : "Email generat. Clica “Enviar” per obrir el teu client de correu.";
    });

    // ---------- init ----------
    (function init(){
      document.documentElement.style.scrollBehavior = "smooth";
      const saved = localStorage.getItem("constellation_lang");
      applyLang(saved === "en" ? "en" : "ca");
    })();
  </script>
</body>
</html>
